(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["InviteCode"],{db4a:function(e,t,n){"use strict";n.r(t);var c=n("7a23"),r=Object(c["m"])("   "),a=Object(c["m"])("添加"),u=Object(c["m"])(" 删除 ");function o(e,t,n,o,i,s){var l=Object(c["L"])("a-input-number"),b=Object(c["L"])("a-button"),d=Object(c["L"])("a-divider"),j=Object(c["L"])("a-table"),O=Object(c["L"])("a-pagination"),f=Object(c["L"])("flex-end"),v=Object(c["L"])("a-card");return Object(c["D"])(),Object(c["j"])("div",null,[Object(c["n"])(v,{title:"邀请码管理"},{default:Object(c["W"])((function(){return[Object(c["n"])("div",null,[Object(c["n"])(l,{value:e.count,"onUpdate:value":t[1]||(t[1]=function(t){return e.count=t}),min:1,max:1e4},null,8,["value"]),r,Object(c["n"])(b,{type:"primary",onClick:e.add},{default:Object(c["W"])((function(){return[a]})),_:1},8,["onClick"])]),Object(c["n"])(d),Object(c["n"])("div",null,[Object(c["n"])(j,{pagination:!1,bordered:"",columns:e.columns,"data-source":e.list},{status:Object(c["W"])((function(e){var t=e.record;return[Object(c["m"])(Object(c["O"])(t.user?"已使用":"未使用"),1)]})),actions:Object(c["W"])((function(t){var n=t.record;return[Object(c["n"])(b,{onClick:function(t){return e.remove(n)},size:"small",type:"danger"},{default:Object(c["W"])((function(){return[u]})),_:2},1032,["onClick"])]})),_:1},8,["columns","data-source"])]),Object(c["n"])(f,{style:{"margin-top":"24px"}},{default:Object(c["W"])((function(){return[Object(c["n"])(O,{current:e.curPage,"onUpdate:current":t[2]||(t[2]=function(t){return e.curPage=t}),pageSize:20,total:e.total,onChange:e.setPage},null,8,["current","total","onChange"])]})),_:1})]})),_:1})])}var i=n("1da1"),s=(n("96cf"),n("8e44")),l=n("e428"),b=n("f64c"),d=[{title:"邀请码",dataIndex:"code"},{title:"使用状态",slots:{customRender:"status"}},{title:"操作",slots:{customRender:"actions"}}],j=Object(c["o"])({setup:function(){var e=Object(c["I"])(1),t=Object(c["I"])(1),n=Object(c["I"])([]),r=Object(c["I"])(0),a=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["g"].list(t.value,20);case 2:c=e.sent,Object(l["c"])(c).success((function(e){var t=e.data,c=t.list,a=t.total;n.value=c,r.value=a}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c["A"])((function(){a()}));var u=function(e){t.value=e,a()},o=function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["g"].add(e.value);case 2:n=t.sent,Object(l["c"])(n).success((function(){b["a"].success("成功添加 ".concat(e.value," 条邀请码")),a()}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),j=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t._id,e.next=3,s["g"].remove(n);case 3:c=e.sent,Object(l["c"])(c).success((function(e){var t=e.msg;b["a"].success(t),a()}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{count:e,list:n,total:r,columns:d,curPage:t,setPage:u,add:o,remove:j}}});j.render=o;t["default"]=j}}]);
//# sourceMappingURL=InviteCode.0897d7c8.js.map